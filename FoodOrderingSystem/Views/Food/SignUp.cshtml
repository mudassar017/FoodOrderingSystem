
@{
    ViewData["Title"] = "SignUp";
    Layout = "~/Views/Shared/foodlayout.cshtml";
}
<script src="~/lib/jquery/dist/jquery.js"></script>
<link href="~/toastr/toastr.css" rel="stylesheet" />
<script src="~/toastr/toastr.js"></script>

<!--begin reservation-hero-section -->
<section id="hero-section" class="reservation-hero-section">

    <!--begin image-overlay -->
    <div class="image-overlay"></div>
    <!--end image-overlay -->
    <!--begin container-->
    <div class="container image-section-inside">

        <!--begin row-->
        <div class="row">

            <!--begin col-md-10-->
            <div class="col-md-10 col-md-offset-1 text-center">

                <span class="comic-text wow fadeIn" data-wow-delay="0.5s">SignUp</span>



                <p class="hero-text wow fadeInUp " data-wow-delay="2s"> <h2 class="section-title white wow bounceIn" data-wow-delay="1s">Be Our Part Its a Pleasure for us</h2></p>

            </div>
            <!--end col-md-10-->

        </div>
        <!--end row-->

    </div>
    <!--end container-->

</section>
<!--end reservation-hero-section -->
<!--begin section-white-->
<section class="section-white small-padding no-padding-bottom">

    <!--begin container-->
    <div class="container">

        <!--begin row-->
        <div class="row">

            <!--begin col-md-6-->
            <div class="col-md-6 wow bounceInUp">

                <img src="images/chef2.jpg" alt="picture" class="width-100">

            </div>
            <!--end col-md-6-->
            <!--begin col-md-6-->
            <div class="col-md-6 text-center register-inner padding-top-30">

                <span class="comic-text">SignUp</span>


                <!--begin success message -->
                <p class="register_success_box" style="display:none;">We received your message and you'll hear from us soon. Thank You!</p>
                <!--end success message -->
                <!--begin register form -->
                <!--begin col-md-12-->
                <div class="col-md-12">

                    <input class="register-input white-input" required="" id="txtName" name="register_names" placeholder="Full Name" type="text">

                    <input class="register-input white-input" required="" id="txtUserName" name="register_names" placeholder="Enter User Name" type="text">

                    <input class="register-input white-input" required="" id="txtNumber" name="register_phone" placeholder="Phone Number" type="text">

                    <input class="register-input white-input" required="" id="txtEmail" name="register_email" placeholder="Email" type="text">

                    <input class="register-input white-input" required="" id="txtPassword" name="register_Password" placeholder="Password" type="text">

                            <input class="register-input white-input" required="" id="txtAddress" name="register_address" placeholder="Address" type="text" />
                        </div>
                                    <!--end col-md-12-->
                           <!-- begin col-md-12-->
                    <div class="col-md-12">
                        <label id="lblMessage"></label>
                    </div>
                    <!--end col-md-12-->
                    <!-- begin col-md-12-->

                    <div class="col-md-12  ">

                        <input value="SignUp" id="submit-button" class="register-submit" type="submit">

                    </div>
                    <!--end col-md-12-->
                    <!--end register form -->

                </div>
                <!--end col-md-6-->

            </div>
            <!--end row-->

        </div>
        <!--end container-->
    </div>
</section>
<!--end section-white-->






<script>
    $(document).ready(function () {

        $('#txtEmail').blur(function () {
            var Email = $('#txtEmail').val();
            var jsonObject = { "email": Email };
            $.ajax({
                type: "POST",
                url: "/api/Registration/CheckUserEmail",
                data: JSON.stringify(jsonObject),
                contentType: "application/json;",
                dataType: "json",
                success: function (response) {
                    if (response.status == "Available") {

                        new Notify({
                            title: 'Email',
                            text: "Email Available",
                            status: 'success',
                            effect: 'slide',// animation
                            speed: 300, // animation speed
                            type: 3,
                            autoclose: true,
                            autotimeout: 2000
                        });
                    }
                    else {
                        new Notify({
                            title: 'Email',
                            text: 'Email Already Exist',
                            status: 'warning',
                            effect: 'slide',// animation
                            speed: 300, // animation speed
                            type: 3,
                            autoclose: true,
                            autotimeout: 2000
                        });

                        $('#txtEmail').focus();
                    }

                }
            });

        });


        $('#txtUserName').blur(function () {
            var UserName = $('#txtUserName').val();
            var jsonObj = { "userName": UserName };
            $.ajax({
                type: "POST",
                url: "/api/Registration/CheckUserName",
                data: JSON.stringify(jsonObj),
                contentType: "application/json;",
                dataType: "json",
                success: function (response) {
                    if (response.status == "Available") {

                        new Notify({
                            title: 'UserName',
                            text: "UserName Available",
                            status: 'success',
                            effect: 'slide',// animation
                            speed: 300, // animation speed
                            type: 3,
                            autoclose: true,
                            autotimeout: 2000
                        });
                    }
                    else {
                        new Notify({
                            title: 'UserName',
                            text: 'UserName Already Exist',
                            status: 'warning',
                            effect: 'slide',// animation
                            speed: 300, // animation speed
                            type: 3,
                            autoclose: true,
                            autotimeout: 2000
                        });

                        $('#txtUserName').focus();
                    }

                }
            });

        });

       



        $('#submit-button').click(function () {
            var Name = $('#txtName').val();
            var UserName = $('#txtUserName').val();
            var Number = $('#txtNumber').val();
            var Email = $('#txtEmail').val();
            var Password = $('#txtPassword').val();
            var Address = $('#txtAddress').val();

            var MyJson = { "name": Name, "userName": UserName, "number": Number, "email": Email, "password": Password, "address": Address, };



            $.ajax({
                type: "POST",
                url: "/api/Registration/RegistrationUser",
                data: JSON.stringify(MyJson),
                contentType: "application/json;",
                dataType: "json",
                success: function (response) {
                    if (response.status == "Insertion successfull") {
                        
                            new Notify({
                                title: 'SignUp',
                                text: "SignUp Successfully",
                                status: 'success',
                                effect: 'slide',// animation
                                speed: 300, // animation speed
                                type: 3,
                                autoclose: true,
                                autotimeout: 2000,
                            });
                        window.location="/food/login";

                        

                    }
                    else {
                        
                            new Notify({
                                title: 'SignUp',
                                text: "SignUp Failed",
                                status: 'success',
                                effect: 'slide',// animation
                                speed: 300, // animation speed
                                type: 3,
                                autoclose: true,
                                autotimeout: 2000
                            });
                        $('#txtName').focus();
                        

                    };
                }
            });


        });
    });
</script>





